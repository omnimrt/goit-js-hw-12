import{i as m,a as b,S as w}from"./assets/vendor-3503c623.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const d=document.querySelector(".form"),u=document.querySelector(".gallery"),L=document.querySelector("input"),S=document.querySelector(".container"),q=document.querySelector(".btn-load");function y(){return document.querySelector(".gallery-item").getBoundingClientRect().height}let a=1,p=40;const g=()=>{const e=document.createElement("span");e.classList.add("loader"),S.append(e)},l=()=>{const e=document.querySelector(".loader");e&&e.remove()},$=()=>{const e=document.querySelector(".btn-load");e.style.display="block"},c=()=>{const e=document.querySelector(".btn-load");e.style.display="none"};async function h(){new URLSearchParams({page:a,per_page:p});const e="41249104-77dc8b1e0563744cb8297ef15",t=L.value;return(await b.get(`https://pixabay.com/api/?key=${e}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true&page=${a}&per_page=${p}`)).data}function f(e){const t=e.hits.map(n=>`<li class="gallery-item"><a href="${n.webformatURL}">
            <img class="gallery-image" src="${n.webformatURL}" alt="${n.tags}"></a>
            <p><b>Likes: </b>${n.likes}</p>
            <p><b>Views: </b>${n.views}</p>
            <p><b>Comments: </b>${n.comments}</p>
            <p><b>Downloads: </b>${n.downloads}</p>
            </li>`).join("");u.insertAdjacentHTML("afterbegin",t);const s=new w(".gallery a",v);s.on("show.simplelightbox"),s.refresh()}d.addEventListener("submit",async e=>{g(),e.preventDefault(),u.innerHTML="";try{const t=await h();f(t),d.reset(),l(),$(),a+=1;const s=y();window.scrollBy(0,s*2),t.hits.length===0&&(m.error({title:"",backgroundColor:"#EF4040",message:"Sorry, there are no images matching your search query. Please try again!"}),c())}catch(t){console.log(t),c()}});q.addEventListener("click",async()=>{g();try{const e=await h();f(e),l(),a+=1;const t=y();window.scrollBy(0,t*2),u.children.length>e.totalHits&&(m.warning({title:"",message:"We are sorry, but you have reached the end of search results."}),c())}catch(e){console.log(e),l(),c()}});const v={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};
//# sourceMappingURL=commonHelpers.js.map
