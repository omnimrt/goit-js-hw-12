import{i as y,a as S,S as v}from"./assets/vendor-3503c623.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))p(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&p(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const m=document.querySelector(".form"),u=document.querySelector(".gallery"),g=document.querySelector("input"),q=document.querySelector(".container"),d=document.querySelector(".btn-load");let i=1,h=40;const f=()=>{const e=document.createElement("span");e.classList.add("loader"),q.append(e)},c=()=>{const e=document.querySelector(".loader");e&&e.remove()},$=()=>{d.style.display="block"},l=()=>{d.style.display="none"};async function b(){new URLSearchParams({page:i,per_page:h});const e="41249104-77dc8b1e0563744cb8297ef15",o=w||g.value;return(await S.get(`https://pixabay.com/api/?key=${e}&q=${encodeURIComponent(o)}&image_type=photo&orientation=horizontal&safesearch=true&page=${i}&per_page=${h}`)).data}let s,w="";function L(e){const o=e.hits.map(r=>`<li class="gallery-item"><a href="${r.webformatURL}">
            <img class="gallery-image" src="${r.webformatURL}" alt="${r.tags}"></a>
            <p><b>Likes: </b>${r.likes}</p>
            <p><b>Views: </b>${r.views}</p>
            <p><b>Comments: </b>${r.comments}</p>
            <p><b>Downloads: </b>${r.downloads}</p>
            </li>`).join("");s&&s.destroy(),u.insertAdjacentHTML("beforeend",o),s=new v(".gallery a",P),s.on("show.simplelightbox"),s.refresh()}m.addEventListener("submit",async e=>{f(),i=1,e.preventDefault(),u.innerHTML="",w=g.value;try{const o=await b();if(L(o),m.reset(),c(),$(),o.hits.length===0){y.error({title:"",backgroundColor:"#EF4040",message:"Sorry, there are no images matching your search query. Please try again!"});const{height:r}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}}catch(o){console.log(o),l()}});d.addEventListener("click",async()=>{f();try{i+=1;const e=await b();L(e),c();const{height:o}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:o*2,behavior:"smooth"}),u.children.length>e.totalHits&&(y.warning({title:"",message:"We are sorry, but you have reached the end of search results."}),l())}catch(e){console.log(e),c(),l()}});const P={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};
//# sourceMappingURL=commonHelpers.js.map
